import type { Page } from "@playwright/test";

export async function click(page: Page, selector: string) {
    await page.click(selector);
}

export async function clickWithIndex(page: Page, selector: string, index: number = 0) {
    await page.locator(selector).nth(index).click();
}

export async function rightClick(page: Page, selector: string) {
    await page.click(selector, { button: 'right' });
}

export async function doubleClick(page: Page, selector: string) {
    await page.dblclick(selector);
}

export async function clickWithRetry(page: Page, selector: string, retries: number = 5, delayMs: number = 1000) {
    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            await page.click(selector);
            return;
        } catch (error) {
            if (attempt === retries) {
                throw error;
            }
            await new Promise(res => setTimeout(res, delayMs));
        }
    }
}
