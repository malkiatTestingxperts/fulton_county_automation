"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.click = click;
exports.clickWithIndex = clickWithIndex;
exports.rightClick = rightClick;
exports.doubleClick = doubleClick;
exports.clickWithRetry = clickWithRetry;
const BrowserManager_1 = require("../BrowserManager");
async function click(selector) {
    const page = await BrowserManager_1.BrowserManager.getPage();
    await page.click(selector);
}
async function clickWithIndex(selector, index = 0) {
    const page = await BrowserManager_1.BrowserManager.getPage();
    await page.locator(selector).nth(index).click();
}
async function rightClick(selector) {
    const page = await BrowserManager_1.BrowserManager.getPage();
    await page.click(selector, { button: 'right' });
}
async function doubleClick(selector) {
    const page = await BrowserManager_1.BrowserManager.getPage();
    await page.dblclick(selector);
}
async function clickWithRetry(selector, retries = 5, delayMs = 1000) {
    const page = await BrowserManager_1.BrowserManager.getPage();
    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            await page.click(selector);
            return;
        }
        catch (error) {
            if (attempt === retries) {
                throw error;
            }
            await new Promise(res => setTimeout(res, delayMs));
        }
    }
}
